(function(n,t,i){"use strict";function r(n,t){if(n===undefined||t===undefined)return null;var r;return r=t.indexOf("pan")>-1?new i.Pan:t.indexOf("pinch")>-1?new i.Pinch:t.indexOf("press")>-1?new i.Press:t.indexOf("rotate")>-1?new i.Rotate:t.indexOf("swipe")>-1?new i.Swipe:new i.Tap,n.add(r),r}function u(n,t){return n&&(t.preventGhosts=n.preventGhosts),t}function f(n){return n.indexOf("pan")>-1?"pan":n.indexOf("pinch")>-1?"pinch":n.indexOf("press")>-1?"press":n.indexOf("rotate")>-1?"rotate":n.indexOf("swipe")>-1?"swipe":"tap"}function e(n,t,i){var u,f,e;if(n==null||t==null||t.type==null)return console.error("ERROR: Angular Hammer could not setup the recognizer. Values of the passed manager and options: ",n,t);u=n.get(t.type);u||(u=r(n,t.type));t.directions||(t.directions=t.type==="pan"||t.type==="swipe"?"DIRECTION_ALL":t.type.indexOf("left")>-1?"DIRECTION_LEFT":t.type.indexOf("right")>-1?"DIRECTION_RIGHT":t.type.indexOf("up")>-1?"DIRECTION_UP":t.type.indexOf("down")>-1?"DIRECTION_DOWN":"");t.direction=o(t.directions);u.set(t);typeof t.recognizeWith=="string"&&(n.get(t.recognizeWith)==null&&(f=r(n,t.recognizeWith)),f!=null&&u.recognizeWith(f));typeof t.dropRecognizeWith=="string"&&n.get(t.dropRecognizeWith)!=null&&u.dropRecognizeWith(n.get(t.dropRecognizeWith));typeof t.requireFailure=="string"&&(n.get(t.requireFailure)==null&&(e=r(n,{type:t.requireFailure})),e!=null&&u.requireFailure(e));typeof t.dropRequireFailure=="string"&&n.get(t.dropRequireFailure)!=null&&u.dropRequireFailure(n.get(t.dropRequireFailure));t.preventGhosts===!0&&i!=null&&s(i)}function o(n){var r=0;return t.forEach(n.split("|"),function(n){i.hasOwnProperty(n)&&(r=r|i[n])}),r}function s(t){function u(n){for(var u,f,t=0;t<i.length;t++)if(u=i[t][0],f=i[t][1],Math.abs(n.clientX-u)<r&&Math.abs(n.clientY-f)<r){n.stopPropagation();n.preventDefault();break}}function e(){i=[]}function o(){i.splice(0,1)}function s(n){if(n.touches.length-n.changedTouches.length<=0){var t=n.changedTouches[0];i.push([t.clientX,t.clientY]);setTimeout(o,f)}}if(t){var i=[],r=25,f=2500;"ontouchstart"in n&&(t[0].addEventListener("touchstart",e,!0),t[0].addEventListener("touchend",s,!0),t[0].addEventListener("click",u,!0),t[0].addEventListener("mouseup",u,!0))}}if(typeof t=="undefined")if(typeof require!="undefined"&&require)try{t=require("angular")}catch(h){return console.log("ERROR: Angular Hammer could not require() a reference to angular")}else if(typeof n.angular!="undefined")t=n.angular;else return console.log("ERROR: Angular Hammer could not find or require() a reference to angular");if(typeof i=="undefined")if(typeof require!="undefined"&&require)try{i=require("hammerjs")}catch(h){return console.log("ERROR: Angular Hammer could not require() a reference to Hammer")}else if(typeof n.Hammer!="undefined")i=n.Hammer;else return console.log("ERROR: Angular Hammer could not find or require() a reference to Hammer");t.module("hmTouchEvents",[]);t.forEach(["hmCustom:custom","hmSwipe:swipe","hmSwipeleft:swipeleft","hmSwiperight:swiperight","hmSwipeup:swipeup","hmSwipedown:swipedown","hmPan:pan","hmPanstart:panstart","hmPanmove:panmove","hmPanend:panend","hmPancancel:pancancel","hmPanleft:panleft","hmPanright:panright","hmPanup:panup","hmPandown:pandown","hmPress:press","hmPressup:pressup","hmRotate:rotate","hmRotatestart:rotatestart","hmRotatemove:rotatemove","hmRotateend:rotateend","hmRotatecancel:rotatecancel","hmPinch:pinch","hmPinchstart:pinchstart","hmPinchmove:pinchmove","hmPinchend:pinchend","hmPinchcancel:pinchcancel","hmPinchin:pinchin","hmPinchout:pinchout","hmTap:tap","hmDoubletap:doubletap"],function(n){var s=n.split(":"),o=s[0],r=s[1];t.module("hmTouchEvents").directive(o,["$parse","$window",function(n,s){return{restrict:"A",link:function(h,c,l){if(!i||!s.addEventListener){o==="hmTap"&&c.bind("click",p);o==="hmDoubletap"&&c.bind("dblclick",p);return}var v=c.data("hammer"),y=t.fromJson(l.hmManagerOptions),a=t.fromJson(l.hmRecognizerOptions);v||(v=new i.Manager(c[0],y),c.data("hammer",v),h.$on("$destroy",function(){v.destroy()}));var w=l[o],b=n(w),p=function(n){function r(){var t=b(h,{$event:n});typeof t=="function"&&t.call(h,n)}var i=h.$root.$$phase,t=v.get(n.type);n.element=c;t&&(t.options.preventDefault&&n.preventDefault(),t.options.stopPropagation&&n.srcEvent.stopPropagation());i==="$apply"||i==="$digest"?r():h.$apply(r)};if(t.isArray(a)?t.forEach(a,function(n){o==="hmCustom"?r=n.event:(n.type||(n.type=f(r)),n.event&&delete n.event);(o==="hmCustom"||r.indexOf(n.type)>-1)&&e(v,u(y,n),c)}):t.isObject(a)?(o==="hmCustom"?r=a.event:(a.type||(a.type=f(r)),a.event&&delete a.event),(o==="hmCustom"||r.indexOf(a.type)>-1)&&e(v,u(y,a),c)):o!=="hmCustom"?(a={type:f(r)},o==="hmDoubletap"&&(a.event=r,a.taps=2,v.get("tap")&&(a.recognizeWith="tap")),a.type.indexOf("pan")>-1&&v.get("swipe")&&(a.recognizeWith="swipe"),a.type.indexOf("pinch")>-1&&v.get("rotate")&&(a.recognizeWith="rotate"),e(v,u(y,a),c)):r=null,r)v.on(r,p)}}}])})})(window,window.angular,window.Hammer);
//# sourceMappingURL=angular-hammer.min.js.map
